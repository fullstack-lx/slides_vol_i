<!doctype html>
<html lang="en">

	<head>
		<meta charset="utf-8">

		<title>Fullstack LX - Building web applications with React and Redux</title>

		<meta name="description" content="Fullstack LX - Building web applications with React and Redux">
		<meta name="author" content="Hakim El Hattab">

		<meta name="apple-mobile-web-app-capable" content="yes">
		<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">

		<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, minimal-ui">

		<link rel="stylesheet" href="css/reveal.css">
		<link rel="stylesheet" href="css/theme/black.css" id="theme">

		<!-- Code syntax highlighting -->
		<link rel="stylesheet" href="lib/css/zenburn.css">

		<!-- Printing and PDF exports -->
		<script>
			// Live reload
			document.write('<script src="http://' + (location.host || 'localhost').split(':')[0] +
			 ':35729/livereload.js?snipver=1"></' + 'script>')
		</script>

		<!--[if lt IE 9]>
		<script src="lib/js/html5shiv.js"></script>
		<![endif]-->
	</head>

	<body>

		<div class="reveal">

			<!-- Any section element inside of this container is displayed as a slide -->
			<div class="slides">

				<section >
					<img src="https://pbs.twimg.com/profile_images/664837720049623040/35b0aLYT.png" style="border:0px">
					<aside class="notes">
					Disclaimer: We're not pros, we're starting and exploring
					</aside>
				</section>
				<section>
					<section>
						<h1> Speakers </h1>
					</section>
					<section>
						<h2> António Novais </h2>
						<img src="https://pbs.twimg.com/profile_images/664748856513593345/OG3f2YXc.jpg" style="border:0px" height="248" width="248" />
						<p> @acanovais </p>
						<p> Redux </p>
					</section>
					<section>
						<h2> Nizar Venturini </h2>
						<img src="https://pbs.twimg.com/profile_images/549485382350299137/0-oCONoY.png" style="border:0px" height="248" width="248" />
						<p> @trenpixster </p>
						<p> React </p>
					</section>
					<section>
						<h2> Rogério Vicente </h2>
						<img src="https://pbs.twimg.com/profile_images/378800000656597188/2c57f89fc7114971feb06066fee57e18.jpeg" style="border:0px" height="248" width="248" />
						<p> @rogeriopvl </p>
						<p> React+Redux </p>
					</section>
				</section>

				<section>
					<section data-background="http://blog.addthiscdn.com/wp-content/uploads/2014/11/addthis-react-flux-javascript-scaling.png">
					</section>

					<section>
						<h2>But why?</h2>
						<aside class="notes">
							let's step back in time
						</aside>
					</section>

					<section data-background="http://i.giphy.com/hn45V8hBhRIpW.gif">
						<h2>First, let's step back in time</h2>
						<p class="fragment">(Redux wink wink)</p>
						<aside class="notes">
							At first, jquery
						</aside>

					</section>

					<section data-background="#ADAD00">
						<h1 style="color:#333">jQuery era</h1>
						<ul>
							<li class="fragment">Click binds everywhere</li>
							<li class="fragment">DOM pollution</li>
							<li class="fragment">Global scope selectors</li>
							<li class="fragment"><code class="highlight">$(children).parent.parent.children</code> </li>
							<li class="fragment">Mutation</li>
							<li class="fragment">Mutation everywhere!</li>
						</ul>
						<aside class="notes">
						Click binds everywhere
						DOM pollution
						Global scope selectors
						code class="highlight">$(children).parent.parent.children</code>
						Mutation
						Mutation everywhere!
						----
						some disagreements on mutation
						</aside>

					</section>

					<section>
						<center>
							<blockquote class="fragment twitter-tweet" lang="en"><p lang="en" dir="ltr">Make JavaScript More Mutable.</p>&mdash; Trump on JavaScript (@realDonaldJS) <a href="https://twitter.com/realDonaldJS/status/664540678836195328">November 11, 2015</a></blockquote>
							<script async src="//platform.twitter.com/widgets.js" charset="utf-8"></script>
						</center>
						<aside class="notes">
						What problems did all this bring?
						</aside>
					</section>

					<section>
						<h1>So what?</h1>
						<ul>
							<li>Refactoring was hedious</li>
							<li>No structure/code architecture</li>
							<li>Click baiting</li>
							<li>All those memory leaks</li>
							<li>SPA?<p class="fragment"> Good luck!</p></li>
						</ul>
						<aside class="notes">
						Refactoring was hedious
						No structure/code architecture
						Click baiting
						All those memory leaks
						SPA? Good luck

						Our super savior, MV* era
						</aside>
					</section>

					<section data-background="http://i.giphy.com/rzspAaesd8ltm.gif">
						<h1 style="color:#333">MV* Era</h1>
					</section>

					<section>
						<h1>Improvements!</h1>
						<ul>
							<li class="fragment">Structure...ish</li>
							<li class="fragment">Model definition</li>
							<li class="fragment">View definition</li>
							<li class="fragment">Scoped selectors</li>
							<li class="fragment">Bindings</li>
						</ul>
						<aside class="notes">
						Structure...ish
						Model definition
						View definition
						Scoped selectors
						Bindings

						Yet...
						</aside>
					</section>

					<section data-background="http://i.giphy.com/PXclV9NHnqhQA.gif">
						<h1>Yet... Bindings Hell</h1>
					</section>

					<section data-background="http://firstdoit.com/content/images/2015/05/mvc_dep_hell.png">
					<aside class="notes">
						From Facebook's presentation video
						ENTER REACT
					</aside>
					</section>

					<section>
						<h1>Enter React!</h1>
						<p class="fragment">A new paradigm emerged</p>
						<p class="fragment">Not a framework</p>
						<aside class="notes">
							A new paradigm emerged
							BTW, not a framework, "just" the V
						</aside>

					</section>

					<section>
						<h1>Functional Programming</h1>
						<p class="fragment">Wat?</p>
						<aside class="notes">
						Really?
						</aside>

					</section>

					<section data-background="http://i221.photobucket.com/albums/dd87/OneWingedRoxas/orlyquitevh4.jpg">
					<h1 style="margin-top:60%;color:#333">Quite Rly</h1>
					</section>

					<section>
						<p>"Entra porco, sai salsicha"</p>
						<p class="fragment"><i>Insert a pig, get a sausage</i></p>
						<pre style="margin-left:40%;width:20%">
							<code data-trim>
								f(A) => B
f(A) => B
(...)
f(A) => B
							</code>
						</pre>
						<aside class="notes">
							No matter how many times you run it, it gives the same result
						</aside>

					</section>

					<section data-transition="fade">
						<h3>Functional approach to DOM composition</h3>
						<pre data-trim><code>
		&lt;div&gt;
		  &lt;h3&gt;OMG PONIES&lt;/h3&gt;
		&lt;/div&gt;






						</code></pre>
						<p>&nbsp;</p>
						<p>&nbsp;</p>
						<aside class="notes">
							This compiles to Javascript code
						</aside>

					</section>
					<section data-transition="fade">
						<h3>Functional approach to DOM composition</h3>
						<pre data-trim><code>
		React.createElement(
		  'div',
		  null,
		  React.createElement(
		    'h3',
		    null,
		    'OMG PONIES'
		  )
		);
						</code></pre>
						<p class="fragment">Composable</p>
						<p class="fragment">Declarative</p>
						<aside class="notes">
							Composable
							Declarative
						</aside>
					</section>

					<section>
						<h3>Let it sink</h3>
						<pre data-trim><code>
		&lt;div&gt;
		  &lt;h3&gt;OMG PONIES&lt;/h3&gt;
		&lt;/div&gt;
						</code></pre>
						<aside class="notes">
							The DOM elements are code

							Another awesome feature: Virtual DOM
						</aside>
					</section>

					<section>
						<h1>Virtual DOM</h1>
						<img src="http://techblog.constantcontact.com/wp-content/uploads/2014/11/TechTalk_BAnderson_11052014_Image7.png">
						<aside class="notes">
						We'll show you some code which uses
						</aside>

					</section>

					<section>
						<p>ES6</p>
						<p>JSX</p>
						<p>Babel</p>
						<p class="fragment">github.com/Talkdesk/react-redux-boilerplate</p>
						<aside class="notes">
						  we made a repo public where you can play around with everything we're presenting
						</aside>

					</section>

					<section data-background="http://i.giphy.com/y8Mz1yj13s3kI.gif">
						<p>&nbsp;</p>
						<p>&nbsp;</p>
						<p>&nbsp;</p>
						<p>&nbsp;</p>
						<p>&nbsp;</p>
						<p>&nbsp;</p>
						<p>&nbsp;</p>
						<p>&nbsp;</p>
						<h1>Sharing is caring</h1>
						<aside class="notes">
						Enough of slides!
						</aside>

					</section>

					<section>
						<h1>coding time!</h1>
					</section>

					<section data-background="http://i.giphy.com/12KiGLydHEdak8.gif">

					</section>

					<section data-background="http://i.giphy.com/EdzcJPoDaaqaY.gif">
						<h3>Thanks</h3>
					</section>


				</section>

				<section>
					<section>
						<h1>Redux</h1>
					</section>

					<section>
						<h2>A predictable state container for Javascript Apps</h2>
						<p class="fragment">What does that mean?</p>
					</section>

					<section>
						<h3> ¯\_(ツ)_/¯ </h3>
					</section>

					<section data-background="http://i.giphy.com/5gUnOrltPvZzW.gif">
						<h2>A little bit of history...</h2>
					</section>
					<section>
						<h2>Developing Big Apps</h2>
						<br/>
						<p class="fragment">Dependency Hell</p>
						<p class="fragment">Hard to <b>predict</b> effects of a change</p>
						<p class="fragment">Hard to trace data flow</p>
						<p class="fragment">Slow development lifecycle</p>
						<p class="fragment">Takes forever to test things and reproduce state</p>
						<p class="fragment">The list goes on ...</p>

					</section>
					<section data-background="http://i.giphy.com/EtB1yylKGGAUg.gif">
						<h2>Frustration</h2>
					</section>
					<section>
						<h2>Flux</h2>
						<p>Facebook's pattern for data flow</p>

						<img class="fragment" src="https://facebook.github.io/flux/img/flux-simple-f8-diagram-with-client-action-1300w.png" height="300" width="1000" />

						<aside class="notes">

						</aside>
					</section>
					<section>
						<img src="https://facebook.github.io/flux/img/flux-simple-f8-diagram-with-client-action-1300w.png" height="300" width="1000" />
						<ul>
							<li> Single directional data flow </li>
							<li> Actions are just plain Javascript objects </li>
							<li> A single dispatcher that sends actions to the stores </li>
							<li> Stores contain the state and change their state </li>
							<li> Stores tell the views to re-render </li>
							<li> Views can create new actions </li>
						</ul>
					</section>

					<section>
						<h2> Does this solve all our frustrations ? </h2>
					</section>

					<section data-background="http://i.giphy.com/kX5tZqZWyKxMI.gif">
					</section>

					<section>
						<h2> In comes Dan Abramov </h2>

						<img src="https://pbs.twimg.com/profile_images/553711083064541184/9VsY9i09_400x400.jpeg" height="248" width="248" />

						<h3> Goal </h3>

						<p> Hot reload </p>
						<p> Time travelling </p>

						<aside class="notes">
							- Do you know why Hot reload while maintaining state is difficult with flux pattern?
								- Stores contain state and if you want to change a store to change behaviour you lose the state
							- What about time travelling?
								- It is the ability to reproduce a previous state of the app
						 		- By having all these different stores you never have a vision of the whole state of the app
						</aside>
					</section>

					<section>
						<h2> Redux was born! </h2>

						<p class="fragment"> Single store </p>
						<p class="fragment"> Reducers </p>

						<br/>

						<p class="fragment"> Welcomme FP to JS Apps </p>

						<aside class="notes">
							- A single store that contains the whole state of the App and is only a container. No logic
							- Reducers that are pure functions that receive a state and an action and return a new state
						</aside>
					</section>

					<section>
						<h3> Single store </h3>
						<ul>
							<li> Contains the whole state of the App </li>
							<li> Has no business logic </li>
							<li> Is only a container </li>
						</ul>

					</section>
					<section>
						<h3> Reducers </h3>
						<ul>
							<li> Pure functions </li>
							<li> Receive a state and an action </li>
							<li> Return a new state </li>
						</ul>
					</section>
					<section data-background="http://i.giphy.com/zXmbOaTpbY6mA.gif">
						<h2> Let's look at some code! </h2>
					</section>
					<section>
						<h2> Actions </h2>

						<pre>
							<code>
export const INCREMENT_COUNTER = 'INCREMENT_COUNTER';
export const DECREMENT_COUNTER = 'DECREMENT_COUNTER';

export function increment(value) {
  return {
    type: INCREMENT_COUNTER,
    value
  };
}

export function decrement(value) {
  return {
    type: DECREMENT_COUNTER,
    value
  };
}
							</code>
						</pre>
					</section>
					<section>
						<h2> Reducers </h2>

						<pre>
							<code>
import { INCREMENT_COUNTER, DECREMENT_COUNTER } from '../actions';

export default function counter(state = 0, action) {
  switch (action.type) {
    case INCREMENT_COUNTER:
      return state + action.value;
    case DECREMENT_COUNTER:
      return state - action.value;
    default:
      return state;
  }
}
							</code>
						</pre>
					</section>
					<section>
						<h2>A predictable state container for Javascript Apps</h2>
						<p class="fragment">What does that mean?</p>
					</section>

					<section>
						<p class="fragment"> How the hell can I do something real with just this? </h2>
						<p class="fragment"> What about side effects? </p>

						<p class="fragment"> Did this solve our frustrations? </p>

						<p class="fragment"> There is always something more ... </p>
					</section>

					<section>
						<h2>Middlewares</h2>

						<p class="fragment"> Before actions get to the reducers </p>
						<p class="fragment"> Have acess to the action and the store </p>
						<br/>
						<p class="fragment"> Add side effects to the actions </p>
						<p class="fragment"> Flow control </p>
						<p class="fragment"> Tooling </p>
					</section>
					<section>
            <h2>Middlewares</h2>

            <pre>
              <code>
const logger = store => next => action => {
  console.log('dispatching', action)
  let result = next(action)
  console.log('next state', store.getState())
  return result
}
              </code>
            </pre>
					</section>
          <section>
            <h2>Middlewares</h2>

            <pre>
              <code>
const recorder = store => next => action => {
  let result = next(action)

  let history = JSON.parse(localStorage.getItem('history'))
  history.push({
    action
    state: store.getState()
  })
  localStorage.setItem('history', JSON.stringify(history));

  return result
}
              </code>
            </pre>
          </section>
          <section data-background="http://i.giphy.com/PWATmSnHLCC1a.gif">
            <h1>Goodies!</h1>
          </section>
					<section>
						<h2>Thunk middleware</h2>

						<p> Having async actions </p>
						<pre>
							<code>
export function incrementAsync(delay = 1000) {
  return dispatch => {
    setTimeout(() => {
      dispatch(increment(1));
    }, delay);
  }
}
							</code>
						</pre>
					</section>
					<section>
						<h2>Thunk middleware</h2>

						<p> Actions that execute in certain conditions </p>
						<pre>
							<code>
export function incrementIfOdd() {
  return (dispatch, getState) => {
    const { counter } = getState();

    if (counter % 2 === 0) {
      return;
    }

    dispatch(increment(1));
  };
}
							</code>
						</pre>
					</section>
					<section>
						<h2>Thunk middleware</h2>

						<p> Async actions and promises </p>
						<pre>
							<code>
export function fetchGuests(event) {
  return function (dispatch) {

    dispatch({
      type: REQUEST_GUESTS,
      event
    });

    return fetch(`http://www.meetup.com/${event}`)
      .then(response => dispatch({
            type: RECEIVE_GUESTS,
            reponse: json
          }),
          error => dispatch({
            type: ERROR_GUESTS,
            error
          }));
  }
}
							</code>
						</pre>
					</section>
					<section>
						<h2> How does this influence React ? </h2>

						<img class="fragment" width="640" height="480" src="http://i.giphy.com/9HsuhCHWWKc8M.gif" />

					</section>
					<section>
						<h2> Redux + React </h2>
            <img src="http://i3.kym-cdn.com/entries/icons/original/000/007/582/tumblr_lmputme3co1qa6q7k_large.png" />

						<p> Redux store passes the whole state to the root component </p>
						<p> All other components re-render themselves </p>
						<p> But should they always re-render ? (wink wink Immutable.js) </p>

					</section>
					<section>
						<h2> Redux + React </h2>

            <table>
              <thead>
                <tr>
                  <th>Smart Components</th>
                  <th>Dumb Components</th>
                </tr>
              </thead>
              <tbody>
                <tr>
                  <td>Top level components </td>
                  <td>Middle and leaf components </td>
                </tr>
                <tr>
                  <td>Connected to redux</td>
                  <td>Unanware of redux</td>
                </tr>
                <tr>
                  <td>Subscribes to redux state</td>
                  <td>Reads data from props</td>
                </tr>
                <tr>
                  <td>Dispatch actions into redux</td>
                  <td>Invoke callbacks from props</td>
                </tr>
              </tbody>
            </table>
					</section>
          <section data-background="http://i.giphy.com/EdzcJPoDaaqaY.gif">
            <h3>Thank you!</h3>
          </section>
        </section>

				<section>
					<section>
						<h1> Immutable.js </h1>
					</section>

					<section>
						<h1>Thanks!</h1>
						<div class="fragment">
							<h3>And special thanks to Talkdesk</h3>
							<h3>for providing all the goodies &lt;3</h3>
						</div>
					</section>

				</section>

			</div>

		</div>

		<script src="lib/js/head.min.js"></script>
		<script src="js/reveal.js"></script>

		<script>

			// Full list of configuration options available at:
			// https://github.com/hakimel/reveal.js#configuration
			Reveal.initialize({
				controls: true,
				progress: true,
				history: true,
				center: true,

				transition: 'slide', // none/fade/slide/convex/concave/zoom

				// Optional reveal.js plugins
				dependencies: [
					{ src: 'http://lab.hakim.se/reveal-js/lib/js/classList.js', condition: function() { return !document.body.classList; } },
					{ src: 'http://lab.hakim.se/reveal-js/plugin/markdown/marked.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
					{ src: 'http://lab.hakim.se/reveal-js/plugin/markdown/markdown.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
					{ src: 'http://lab.hakim.se/reveal-js/plugin/highlight/highlight.js', async: true, callback: function() { hljs.initHighlightingOnLoad(); } },
					{ src: 'http://lab.hakim.se/reveal-js/plugin/zoom-js/zoom.js', async: true },
					{ src: 'http://lab.hakim.se/reveal-js/plugin/notes/notes.js', async: true }
				]
			});

		</script>

	</body>
</html>
